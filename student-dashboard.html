<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Student Dashboard - Digital Learning</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/dashboard.css">
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
</head>
<body>
  <nav class="navbar">
    <div class="nav-content">
      <h1 class="nav-title">📚 Student Dashboard</h1>
      <div class="nav-actions">
        <div class="online-indicator" id="onlineStatus">
          <span class="status-dot online"></span>
          <span>Online</span>
        </div>
        <div class="notification-bell" onclick="toggleNotifications()">
          🔔 <span class="notification-count" id="notificationCount">0</span>
        </div>
        <button onclick="auth.signOut()" class="logout-btn">Logout</button>
      </div>
    </div>
  </nav>

  <div class="dashboard-container">
    <aside class="sidebar">
      <div class="user-profile" id="userProfile">
        <div class="profile-avatar">👤</div>
        <div class="profile-info">
          <h3 id="userName">Loading...</h3>
          <p id="userGrade">Grade -</p>
        </div>
      </div>

      <nav class="sidebar-nav">
        <a href="#courses" class="nav-link active" data-section="courses">📖 My Courses</a>
        <a href="#videos" class="nav-link" data-section="videos">🎥 Videos</a>
        <a href="#quizzes" class="nav-link" data-section="quizzes">📝 Quizzes</a>
        <a href="#progress" class="nav-link" data-section="progress">📊 My Progress</a>
        <a href="#assignments" class="nav-link" data-section="assignments">📋 Assignments</a>
      </nav>
    </aside>

    <main class="main-content">
      <!-- Courses Section -->
      <section id="courses" class="content-section active">
        <div class="section-header">
          <h2>📖 My Courses</h2>
        </div>
        <div class="course-grid" id="courseGrid"></div>
      </section>

      <!-- Videos Section -->
      <section id="videos" class="content-section">
        <div class="section-header">
          <h2>🎥 Educational Videos</h2>
          <select id="videoFilter">
            <option value="all">All Videos</option>
            <option value="watched">Watched</option>
            <option value="unwatched">Not Watched</option>
          </select>
        </div>
        <div class="video-grid" id="videoGrid"></div>
      </section>

      <!-- Quizzes Section -->
      <section id="quizzes" class="content-section">
        <div class="section-header">
          <h2>📝 Available Quizzes</h2>
        </div>
        <div class="quiz-grid" id="quizGrid"></div>
      </section>

      <!-- Progress Section -->
      <section id="progress" class="content-section">
        <div class="section-header">
          <h2>📊 My Learning Progress</h2>
        </div>
        <div class="progress-overview">
          <div class="progress-details">
            <div class="progress-item">
              <h4>Overall Progress</h4>
              <div class="progress-bar">
                <div class="progress-fill" id="overallProgress" style="width: 0%"></div>
              </div>
              <span id="overallPercentage">0%</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Assignments Section -->
      <section id="assignments" class="content-section">
        <div class="section-header">
          <h2>📋 Assignments</h2>
        </div>
        <div class="assignment-list" id="assignmentList"></div>
      </section>
    </main>
  </div>

  <!-- Notification Panel -->
  <div class="notification-panel" id="notificationPanel">
    <div class="notification-header">
      <h3>Notifications</h3>
      <button onclick="toggleNotifications()">×</button>
    </div>
    <div class="notification-list" id="notificationList"></div>
  </div>

  <!-- Scripts -->
  <script src="js/supabase.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/app.js"></script>
  <script src="js/dashboard.js"></script>
  <script src="js/video-handler.js"></script>
</body>
</html>
